<!doctype html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://freeclashmeta.github.io/news/article-30698.htm" />
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>k8s &#8211; 使用helm安装mysql</title>
        <meta name="description" content="helm是k8s的包管理，类似于管理docker镜像的docker hub 官网提供了很多中安装方式，看自己的爱好以及条件。以下是源码安装： git clone https://github.com/" />
        <link rel="icon" href="/assets/website/img/freeclashmeta/favicon.ico" type="image/x-icon"/>
    <!-- web fonts -->
    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Nunito:200,300,400,600,700,800,900&display=swap" rel="stylesheet">
    <!-- //web fonts -->
    <!-- Template CSS -->
    <link rel="stylesheet" href="/assets/website/css/freeclashmeta/style-starter.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XC0F2XP2Y3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XC0F2XP2Y3');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
    <div class="w3l-bootstrap-header fixed-top">
    <nav class="navbar navbar-expand-lg navbar-light p-2">
        <div class="container">
                        <a class="navbar-brand" href="/">Free Clash Meta</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                                        <li class="nav-item">
                        <a class="nav-link" href="/">首页</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link" href="/free-nodes/">免费节点</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link" href="/paid-subscribe/">推荐机场</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link" href="/news/">新闻资讯</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link" href="#">关于</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">联系</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
    <!-- index-block1 -->
    <div class="w3l-index-block1 list">
        <div class="content py-5">
            <div class="container">
                <div class="row py-md-5 py-3">
                    <div class="col-md-5 content-left">
                        <h1 class="pt-5">k8s &#8211; 使用helm安装mysql</h1>
                        <p class="mt-3 mb-md-5 mb-4">
                            <a href="/">首页</a> / <a href="/news/">新闻资讯</a> / <span>正文</span>
                        </p>
                    </div>
                    <div class="col-md-7 content-photo mt-md-0 mt-5">
                        <img href="/assets/website/img/freeclashmeta/main.jpg" class="img-fluid" alt="main image">
                    </div>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
    <!-- //index-block1 -->
    <!-- content-with-photo17 -->
    <section class="w3l-index-block3">
        <div class="section-info py-5">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                                        <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<div id="content_views" class="markdown_views prism-atom-one-dark"> </h1> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://helm.sh/docs/"  rel="nofollow">helm是k8s的包管理</a>，类似于管理docker镜像的docker hub</p> <p>官网提供了很多中安装方式，看自己的爱好以及条件。以下是源码安装：</p> <pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/helm/helm.git<span class="token builtin class-name">cd</span> helm<span class="token function">make</span></code></pre> <p>如果网络有问题，可以使用<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/helm/helm/releases"  rel="nofollow">二进制安装</a></p> <pre><code class="prism language-bash"><span class="token function">tar</span> -zxvf helm-v3.0.0-linux-amd64.tar.gz<span class="token function">mv</span> linux-amd64/helm /usr/local/bin/helm</code></pre> <p>Three Big Concepts<br /> A<strong>Chart</strong> is a Helm package. It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster. Think of it like the Kubernetes equivalent of a Homebrew formula, an Apt dpkg, or a Yum RPM file.</p> <p>A<strong>Repository</strong> is the place where charts can be collected and shared. It’s like Perl’s CPAN archive or the Fedora Package Database, but for Kubernetes packages.</p> <p>A<strong>Release</strong> is an instance of a chart running in a Kubernetes cluster. One chart can often be installed many times into the same cluster. And each time it is installed, a new release is created. Consider a MySQL chart. If you want two databases running in your cluster, you can install that chart twice. Each one will have its own release, which will in turn have its own release name.</p> </h1> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://artifacthub.io/packages/helm/bitnami/mysql"  rel="nofollow">参考这个网站</a>可以在线安装</p> <pre><code class="prism language-bash">helm repo<span class="token function">add</span> bitnami https://charts.bitnami.com/bitnami helm<span class="token function">install</span> my-release bitnami/mysql</code></pre> <p>如果是内网，下载安装包后离线安装</p> <pre><code class="prism language-bash">helm<span class="token function">install</span> my-release mysql-0.1.1.tgz</code></pre> <p>参考提示信息可以操作mysql</p> <pre><code class="prism language-bash">NAME: my-release LAST DEPLOYED: Sat Nov<span class="token number">20</span><span class="token number">11</span>:21:22<span class="token number">2021</span> NAMESPACE: default STATUS: deployed REVISION:<span class="token number">1</span> TEST SUITE: None NOTES: CHART NAME: mysql CHART VERSION:<span class="token number">8.8</span>.12 APP VERSION:<span class="token number">8.0</span>.27  ** Please be patient<span class="token keyword">while</span> the chart is being deployed **  Tip:    Watch the deployment status using the command: kubectl get pods -w --namespace default  Services:<span class="token builtin class-name">echo</span> Primary: my-release-mysql.default.svc.cluster.local:3306  Execute the following to get the administrator credentials:<span class="token builtin class-name">echo</span> Username: root<span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span>  To connect to your database:<span class="token number">1</span>. Run a pod that you can use as a client:        kubectl run my-release-mysql-client --rm --tty -i --restart<span class="token operator">=</span><span class="token string">'Never'</span> --image  docker.io/bitnami/mysql:8.0.27-debian-10-r8 --namespace default --command --<span class="token function">bash</span><span class="token number">2</span>. To connect to primary<span class="token function">service</span><span class="token punctuation">(</span>read/write<span class="token punctuation">)</span>:        mysql -h my-release-mysql.default.svc.cluster.local -uroot -p<span class="token string">"<span class="token variable">$MYSQL_ROOT_PASSWORD</span>"</span>    To upgrade this helm chart:<span class="token number">1</span>. Obtain the password as described on the<span class="token string">'Administrator credentials'</span> section and<span class="token builtin class-name">set</span> the<span class="token string">'root.password'</span> parameter as shown below:<span class="token assign-left variable">ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span>       helm upgrade --namespace default my-release bitnami/mysql --set auth.rootPassword<span class="token operator">=</span><span class="token variable">$ROOT_PASSWORD</span></code></pre> <h2><a id="mysql_82" rel="nofollow"></a>使用mysql</h2> <p>拿到mysql的登录密码</p> <pre><code class="prism language-bash"><span class="token builtin class-name">echo</span><span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span></code></pre> <p>进入mysql容器pod</p> <pre><code class="prism language-bash">kubectl<span class="token builtin class-name">exec</span> -ti my-release1-mysql-0 --<span class="token function">bash</span></code></pre> <p>登录mysql</p> <pre><code class="prism language-bash">mysql -u root -p ysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span></code></pre> </h1> <p>查看</p> <pre><code class="prism language-bash">helm<span class="token function">ls</span></code></pre> <p>删除</p> <pre><code class="prism language-bash">helm delete my-release</code></pre> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-30697.htm">Redis：内存淘汰机制</a></p>
                                        <p>下一个：<a href="/news/article-31150.htm">Python格式化输出的三种方法（format,f前缀，%s）</a></p>
                                    </div>
                                    </div>
                    <div class="col-md-3">
                        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/free-nodes/2024-8-28-free-node-subscribe.htm" title="「8月28日」最高速度22.8M/S，2024年Clash Meta每天更新免费节点订阅链接">「8月28日」最高速度22.8M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-10-2-free-high-speed-nodes.htm" title="「10月2日」最高速度18.1M/S，2024年Clash Meta每天更新免费节点订阅链接">「10月2日」最高速度18.1M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-10-30-node-share-links.htm" title="「10月30日」最高速度20.8M/S，2024年Clash Meta每天更新免费节点订阅链接">「10月30日」最高速度20.8M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-8-19-free-high-speed-nodes.htm" title="「8月19日」最高速度20.5M/S，2024年Clash Meta每天更新免费节点订阅链接">「8月19日」最高速度20.5M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-19575.htm" title="小猫身上的跳蚤怎么彻底去除小猫体外驱虫如何去?（小猫身上有跳蚤用什么药好）">小猫身上的跳蚤怎么彻底去除小猫体外驱虫如何去?（小猫身上有跳蚤用什么药好）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-20-free-node-subscribe-links.htm" title="「11月20日」最高速度22.3M/S，2024年Clash Meta每天更新免费节点订阅链接">「11月20日」最高速度22.3M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-21399.htm" title="狗狗领养平台公众号有哪些（狗狗领养网站）">狗狗领养平台公众号有哪些（狗狗领养网站）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-8-8-free-high-speed-nodes.htm" title="「8月8日」最高速度22.8M/S，2024年Clash Meta每天更新免费节点订阅链接">「8月8日」最高速度22.8M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-31150.htm" title="Python格式化输出的三种方法（format,f前缀，%s）">Python格式化输出的三种方法（format,f前缀，%s）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-24-free-subscribe-node.htm" title="「9月24日」最高速度19.6M/S，2024年Clash Meta每天更新免费节点订阅链接">「9月24日」最高速度19.6M/S，2024年Clash Meta每天更新免费节点订阅链接</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">81</span> <a href="/date/2024-12/" title="2024-12 归档">2024-12</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">34</span> <a href="/date/2024-11/" title="2024-11 归档">2024-11</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-10/" title="2024-10 归档">2024-10</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">30</span> <a href="/date/2024-09/" title="2024-09 归档">2024-09</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-08/" title="2024-08 归档">2024-08</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">3</span> <a href="/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                    </ul>
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </section>
        <section class="w3l-market-footer">
        <footer class="footer-28">
            <div class="footer-bg-layer">
                <div class="midd-footer-28 align-center py-lg-4 py-3 mt-5">
                    <div class="container">
                        <p class="copy-footer-28 text-center">
                            <p>
                                <a href="/">首页</a> | 
                                <a href="/free-node/">免费节点</a> | 
                                <a href="/news/">新闻资讯</a> |
                                <a href="/about-us.htm">关于我们</a> |
                                <a href="/disclaimer.htm">免责申明</a> |
                                <a href="/privacy.htm">隐私申明</a> |
                                <a href="/sitemap.xml">网站地图</a>
                            </p>
                            Free Clash Meta免费节点分享站 版权所有
                            <br />
                            Powered by WordPress
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- move top -->
        <button onclick="topFunction()" id="movetop" title="Go to top">
            &#10548;
        </button>
        <script>
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("movetop").style.display = "block";
            } else {
                document.getElementById("movetop").style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
        </script>
        <!-- /move top -->
    </section>
    <!-- //footer-28 block -->
    <!-- jQuery, Bootstrap JS -->
    <script src="/assets/website/js/frontend/freeclashmeta/jquery-3.5.1.min.js"></script>
    <script src="/assets/website/js/frontend/freeclashmeta/bootstrap.min.js"></script>
    <!-- Template JavaScript -->
    <script src="/assets/website/js/frontend/freeclashmeta/owl.carousel.js"></script>
    <!-- script for owlcarousel -->
    <script>
    $(document).ready(function() {
        $('.owl-one').owlCarousel({
            loop: true,
            margin: 0,
            nav: true,
            responsiveClass: true,
            autoplay: false,
            autoplayTimeout: 5000,
            autoplaySpeed: 1000,
            autoplayHoverPause: false,
            responsive: {
                0: {
                    items: 1,
                    nav: false
                },
                480: {
                    items: 1,
                    nav: false
                },
                667: {
                    items: 1,
                    nav: true
                },
                1000: {
                    items: 1,
                    nav: true
                }
            }
        })
    })
    </script>
    <!-- //script for owlcarousel -->
    <!-- disable body scroll which navbar is in active -->
    <script>
    $(function() {
        $('.navbar-toggler').click(function() {
            $('body').toggleClass('noscroll');
        })
    });
    </script>
    <!-- disable body scroll which navbar is in active -->
    <script src="/assets/website/js/frontend/freeclashmeta/jquery.magnific-popup.min.js"></script>
    <script>
    $(document).ready(function() {
        $('.popup-with-zoom-anim').magnificPopup({
            type: 'inline',

            fixedContentPos: false,
            fixedBgPos: true,

            overflowY: 'auto',

            closeBtnInside: true,
            preloader: false,

            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-zoom-in'
        });

        $('.popup-with-move-anim').magnificPopup({
            type: 'inline',

            fixedContentPos: false,
            fixedBgPos: true,

            overflowY: 'auto',

            closeBtnInside: true,
            preloader: false,

            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-slide-bottom'
        });
    });
    </script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script><script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>